<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js" integrity="sha256-lSjKY0/srUM9BE3dPm+c4fBo1dky2v27Gdjm2uoZaL0=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/colreorder/1.7.0/css/colReorder.dataTables.min.css">
	<link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">
	<script src="https://cdn.datatables.net/1.13.11/js/jquery.dataTables.min.js"></script>
	<script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>	
	<script src="https://cdn.datatables.net/plug-ins/1.13.6/pagination/input.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
	<script src="https://cdn.datatables.net/colreorder/1.7.0/js/dataTables.colReorder.min.js"></script>
	<script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>
	<script src="https://cdn.datatables.net/plug-ins/1.13.6/sorting/natural.js"></script>
    <script src="senses.js"></script>
    <title>Lemma Base</title>
</head>
<body>
    <h1>Lemma Base Draft</h1>
    <table id="lemmabasedraft">
        <thead>
            <tr><th>Lemma</th><th>Word Type</th><th>Sense</th><th>Time Period</th><th>Reference</th></tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</body>
<script>
tabbody=""
for(sense in senses){
    tabbody+="<tr><td>"+sense+"</td>"
        console.log(sense)
    tabbody+="<td><a href=\""+Object.keys(senses[sense]["wordtype"])[0]+"\" target=\"_blank\">"+senses[sense]["wordtype"][Object.keys(senses[sense]["wordtype"])[0]]+"</a></td>"
    if("sense" in senses[sense]){
        sensestring=""
        if("de" in senses[sense]["sense"]){
            for(var i=0;i<senses[sense]["sense"]["de"].length;i++){
                var qidurl=""
                if("qid" in senses[sense]["sense"] && i<senses[sense]["sense"]["qid"].length){
                    qidurl=Object.keys(senses[sense]["sense"]["qid"][i])[0]
                    sensestring+="<a href=\""+qidurl+"\" target=\"_blank\">"
                }
                if("en" in senses[sense]["sense"] && i<senses[sense]["sense"]["en"].length){
                    sensestring+=senses[sense]["sense"]["en"][i]+" / "
                }
                sensestring+=senses[sense]["sense"][i]+" "
                if("qid" in senses[sense]["sense"] && i<senses[sense]["sense"]["qid"].length){                    
                    sensestring+="["+senses[sense]["sense"]["qid"][i][qidurl]+"("+qidurl.substring(qidurl.lastIndexOf("/")+1)+")</a>"
                }
                sensestring+="<br/>"      
            }
        }       
        tabbody+="<td>"+sensestring+"</td>"
    }else{
        tabbody+="<td></td>"
    }
    if("period" in sense){
        tabbody+="<td>"+senses[sense]["period"]+"</td>"
    }else{
        tabbody+="<td></td>"
    }
    if("reference" in sense){
        tabbody+="<td>"+senses[sense]["reference"]["title"]+" vol. "+senses[sense]["reference"]["volume"]+"</td>"
    }else{
        tabbody+="<td></td>"
    }
    tabbody+="</tr>"
}
$('#lemmabasedraft').html(tabbody)
$('#lemmabasedraft').dataTable({columnDefs: [{ type: 'natural', targets: '_all' }],lengthMenu: [[10, 25, 100,250,500,1000, -1], [10, 25, 100,250,500,1000, "All"]],paging:true,pagingType: "input",})
</script>
</html>